(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/tabBar/API/API"],{"101a":function(t,e,a){"use strict";var n=a("7284"),i=a.n(n);i.a},"21fc":function(t,e,a){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a={data:function(){return{mallGoodsDbName:"opendb-mall-goods",searchLogDbName:"opendb-search-log",list:[],localSearchList:t.getStorageSync("__local_search_history"),localSearchListDel:!1,netHotListIsHide:!1,searchText:"",iconColor:"#999999",associativeList:[],keyBoardPopup:!1,hotWorld:"巨龙传说",focus:!0}},created:function(){this.searchText=getApp().globalData.searchText},methods:{actionsClick:function(t){console.log("res: ",t)},clear:function(t){console.log("res: ",t)},confirm:function(t){this.search(t.value)},cancel:function(e){t.hideKeyboard(),this.searchText="",this.loadList()},fetchSearchData:function(e){var a=this;setTimeout((function(){t.request({url:"https://csgoob.com/search",data:{key:e,_data:"routes/search"},header:{userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 13_2_3 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.0.3 Mobile/15E148 Safari/604.1"},success:function(t){console.log(t.data.data),a.list=t.data.data}}),t.stopPullDownRefresh()}),300)},search:function(e){(e||this.hotWorld)&&(e?(this.searchText!==e&&(console.log(2),this.searchText=e),this.localSearchListManage(e)):this.hotWorld&&(this.searchText=this.hotWorld),t.hideKeyboard(),this.loadList(this.searchText),this.fetchSearchData(this.searchText))},localSearchListManage:function(e){var a=t.getStorageSync("__local_search_history");a.length?(this.localSearchList.unshift(e),function(t){for(var e=t.length-1;e>=0;e--){var a=t.indexOf(t[e]),n=t.lastIndexOf(t[e]);a!=n&&t.splice(n,1)}}(this.localSearchList),this.localSearchList.length>10&&this.localSearchList.pop()):this.localSearchList=[e],t.setStorageSync("__local_search_history",this.localSearchList)},LocalSearchListClear:function(){var e=this;t.showModal({content:"确认清空搜索历史吗？",confirmText:"删除",confirmColor:"red",cancelColor:"#808080",success:function(a){a.confirm&&(e.localSearchListDel=!1,e.localSearchList=[],t.removeStorageSync("__local_search_history"))}})},LocalSearchlistItemClick:function(e,a){if(this.localSearchListDel)return this.localSearchList.splice(a,1),t.setStorageSync("__local_search_history",this.localSearchList),void(this.localSearchList.length||(this.localSearchListDel=!1));this.search(e)},searchHotRefresh:function(){this.$refs.udb.refresh()},searchLogDbAdd:function(t){var e=this;this.getDeviceId().then((function(a){e.searchLogDb.add({device_id:a,content:t,create_date:Date.now()})}))},getDeviceId:function(){return new Promise((function(e,a){var n=t.getStorageSync("uni_id");e(n||t.getSystemInfoSync().system+"_"+Math.random().toString(36).substr(2))}))},associativeClick:function(t){console.log("associativeClick: ",t),this.loadList(t.name)},loadList:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";getApp().globalData.searchText=t}},computed:{associativeShow:function(){return this.searchText&&this.associativeList.length}},watch:{searchText:function(t,e,a){var n=t,i=null,c=!0;return a&&n(),function(){var t=arguments,a=this;c&&(c=!1,n.apply(a,t)),i&&clearTimeout(i),i=setTimeout((function(){clearTimeout(i),i=null,n.apply(a,t)}),e||200)}}((function(t){t||(this.associativeList.length=0,getApp().globalData.searchText="")}),100)}};e.default=a}).call(this,a("543d")["default"])},3578:function(t,e,a){"use strict";var n=a("79d4"),i=a.n(n);i.a},"5aaf":function(t,e,a){},"711f":function(t,e,a){"use strict";a.d(e,"b",(function(){return i})),a.d(e,"c",(function(){return c})),a.d(e,"a",(function(){return n}));var n={uniSearchBar:function(){return Promise.all([a.e("common/vendor"),a.e("uni_modules/uni-search-bar/components/uni-search-bar/uni-search-bar")]).then(a.bind(null,"fc98"))},uniIcons:function(){return Promise.all([a.e("common/vendor"),a.e("uni_modules/uni-icons/components/uni-icons/uni-icons")]).then(a.bind(null,"e2c8"))},uniList:function(){return a.e("uni_modules/uni-list/components/uni-list/uni-list").then(a.bind(null,"b65b"))},uniListItem:function(){return a.e("uni_modules/uni-list/components/uni-list-item/uni-list-item").then(a.bind(null,"db95"))}},i=function(){var t=this,e=t.$createElement,a=(t._self._c,t.localSearchList.length);t._isMounted||(t.e0=function(e){t.localSearchListDel=!0},t.e1=function(e){t.localSearchListDel=!1}),t.$mp.data=Object.assign({},{$root:{g0:a}})},c=[]},7284:function(t,e,a){},"79d4":function(t,e,a){},"9c8d":function(t,e,a){"use strict";(function(t,e){var n=a("4ea4");a("e9f3"),a("4a2a");n(a("66fd"));var i=n(a("e2f9"));t.__webpack_require_UNI_MP_PLUGIN__=a,e(i.default)}).call(this,a("bc2e")["default"],a("543d")["createPage"])},e2f9:function(t,e,a){"use strict";a.r(e);var n=a("711f"),i=a("f56a");for(var c in i)["default"].indexOf(c)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(c);a("101a"),a("3578"),a("f1a0");var o=a("f0c5"),s=Object(o["a"])(i["default"],n["b"],n["c"],!1,null,"e194727a",null,!1,n["a"],void 0);e["default"]=s.exports},f1a0:function(t,e,a){"use strict";var n=a("5aaf"),i=a.n(n);i.a},f56a:function(t,e,a){"use strict";a.r(e);var n=a("21fc"),i=a.n(n);for(var c in n)["default"].indexOf(c)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(c);e["default"]=i.a}},[["9c8d","common/runtime","common/vendor"]]]);